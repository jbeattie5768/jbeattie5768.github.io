<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Using the New PyREPL in VSCode | Jonathan B</title>
<meta name="keywords" content="Python, REPL, VSCode, Issue">
<meta name="description" content="
     
            PyREPL in VSCode is Possible
        


The PyREPL
I use the REPL all the time and I&rsquo;m enjoying the new PyREPL.
If you haven&rsquo;t yet moved to Python 3.14, you should - PyREPL is another compelling reason to update.
The new PyREPL has been available since Python 3.13, and replaces the original C-based REPL with a Python-based implementation (PyREPL). You can read about the PyREPL in &lsquo;PEP 762 – REPL-acing the default REPL&rsquo;.">
<meta name="author" content="Jonathan B">
<link rel="canonical" href="https://jbeattie5768.github.io/posts/2025-10-27-issues-using-the-new-python-repl-in-vscode/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jbeattie5768.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jbeattie5768.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jbeattie5768.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jbeattie5768.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://jbeattie5768.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://jbeattie5768.github.io/posts/2025-10-27-issues-using-the-new-python-repl-in-vscode/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://jbeattie5768.github.io/posts/2025-10-27-issues-using-the-new-python-repl-in-vscode/">
  <meta property="og:site_name" content="Jonathan B">
  <meta property="og:title" content="Using the New PyREPL in VSCode">
  <meta property="og:description" content=" PyREPL in VSCode is Possible
The PyREPL I use the REPL all the time and I’m enjoying the new PyREPL.
If you haven’t yet moved to Python 3.14, you should - PyREPL is another compelling reason to update.
The new PyREPL has been available since Python 3.13, and replaces the original C-based REPL with a Python-based implementation (PyREPL). You can read about the PyREPL in ‘PEP 762 – REPL-acing the default REPL’.">
  <meta property="og:locale" content="en-gb">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-10-27T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-10-27T00:00:00+00:00">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="REPL">
    <meta property="article:tag" content="VSCode">
    <meta property="article:tag" content="Issue">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Using the New PyREPL in VSCode">
<meta name="twitter:description" content="
     
            PyREPL in VSCode is Possible
        


The PyREPL
I use the REPL all the time and I&rsquo;m enjoying the new PyREPL.
If you haven&rsquo;t yet moved to Python 3.14, you should - PyREPL is another compelling reason to update.
The new PyREPL has been available since Python 3.13, and replaces the original C-based REPL with a Python-based implementation (PyREPL). You can read about the PyREPL in &lsquo;PEP 762 – REPL-acing the default REPL&rsquo;.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jbeattie5768.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Using the New PyREPL in VSCode",
      "item": "https://jbeattie5768.github.io/posts/2025-10-27-issues-using-the-new-python-repl-in-vscode/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Using the New PyREPL in VSCode",
  "name": "Using the New PyREPL in VSCode",
  "description": " PyREPL in VSCode is Possible\nThe PyREPL I use the REPL all the time and I\u0026rsquo;m enjoying the new PyREPL.\nIf you haven\u0026rsquo;t yet moved to Python 3.14, you should - PyREPL is another compelling reason to update.\nThe new PyREPL has been available since Python 3.13, and replaces the original C-based REPL with a Python-based implementation (PyREPL). You can read about the PyREPL in \u0026lsquo;PEP 762 – REPL-acing the default REPL\u0026rsquo;.\n",
  "keywords": [
    "Python", "REPL", "VSCode", "Issue"
  ],
  "articleBody": " PyREPL in VSCode is Possible\nThe PyREPL I use the REPL all the time and I’m enjoying the new PyREPL.\nIf you haven’t yet moved to Python 3.14, you should - PyREPL is another compelling reason to update.\nThe new PyREPL has been available since Python 3.13, and replaces the original C-based REPL with a Python-based implementation (PyREPL). You can read about the PyREPL in ‘PEP 762 – REPL-acing the default REPL’.\nKey benefits of the new PyREPL:\nColoured output for improved readability New built-in commands (exit, quit, copyright, help, clear) Improved paste handling for multi-line code Block-level history and a persistent history file (.python_history) Better Windows/PowerShell support Inline help and history convenience keys (F1/F2 mappings may vary by terminal) Using the PyREPL in VSCode I’ve had trouble with the terminal in VSCode in the past (see this blog post), and by default VSCode currently disables the PyREPL (VSCode-Python Issue #25240) - this is the case in the September 2025 (version 1.105.1) release:\nVSCode showing the default (C-based) Python REPL — no PyREPL features such as coloured output or easy exit.\nNot ideal.\nThis also seems to be the case for the VSCode Insiders version (I observed it in the 1.106.0-insider version).\nI’d expect this to be a temporary thing for VSCode, and they are working on changing it.\nVSCode sets the PYTHON_BASIC_REPL environment variable within its environment, which forces the basic REPL and prevents PyREPL from loading.\nYou can change this default behaviour in your VSCode user settings (settings.json) by adding:\n{ // Disable Python extension shell integration so the system can load PyREPL \"python.terminal.shellIntegration.enabled\": false } You’ll need to kill the terminal for it to take effect:\nPyREPL in VSCode: coloured output, and easy exit.\nA thing of beauty!\nIf you still see the old REPL after changing the user settings, restart VSCode.\nThere have been reports of cursor indentation issues (see CPython Issue #126131) when using PyREPL in VSCode, but I’ve not noticed any major issues yet.\nReferences https://github.com/pypy/pypy/tree/d102094b863ce49b7af030dcb0cecaac515d97c6/lib_pypy/pyrepl https://peps.python.org/pep-0762 https://github.com/microsoft/vscode-python/issues/25164 https://github.com/microsoft/vscode-python/issues/25240 https://github.com/microsoft/vscode-python/pull/25216 https://github.com/microsoft/vscode-python/pull/25281 https://github.com/python/cpython/issues/126172 https://github.com/python/cpython/issues/126131 https://code.visualstudio.com/docs/terminal/shell-integration Edits to this Post 30 Oct 2025: Added banner image to post. ",
  "wordCount" : "352",
  "inLanguage": "en",
  "datePublished": "2025-10-27T00:00:00Z",
  "dateModified": "2025-10-27T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Jonathan B"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jbeattie5768.github.io/posts/2025-10-27-issues-using-the-new-python-repl-in-vscode/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jonathan B",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jbeattie5768.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jbeattie5768.github.io/" accesskey="h" title="Jonathan B (Alt + H)">Jonathan B</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jbeattie5768.github.io/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://jbeattie5768.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://jbeattie5768.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://jbeattie5768.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jbeattie5768.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://jbeattie5768.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Using the New PyREPL in VSCode
    </h1>
    <div class="post-meta"><span title='2025-10-27 00:00:00 +0000 UTC'>October 27, 2025</span>&nbsp;·&nbsp;Jonathan B

</div>
  </header> 
  <div class="post-content"><figure>
    <img loading="lazy" src="VSCode_PyREPL_Example.webp"
         alt="PyREPL example in VSCode showing various coloured examples"/> <figcaption>
            <p>PyREPL in VSCode is Possible</p>
        </figcaption>
</figure>

<h2 id="the-pyrepl">The PyREPL<a hidden class="anchor" aria-hidden="true" href="#the-pyrepl">#</a></h2>
<p>I use the REPL all the time and I&rsquo;m enjoying the new PyREPL.<br>
If you haven&rsquo;t yet moved to Python 3.14, you should - PyREPL is another compelling reason to update.</p>
<p>The new PyREPL has been available since Python 3.13, and replaces the original C-based REPL with a Python-based implementation (PyREPL). You can read about the PyREPL in <a href="https://peps.python.org/pep-0762/">&lsquo;PEP 762 – REPL-acing the default REPL&rsquo;</a>.</p>
<p>Key benefits of the new PyREPL:</p>
<ul>
<li>Coloured output for improved readability</li>
<li>New built-in commands (exit, quit, copyright, help, clear)</li>
<li>Improved paste handling for multi-line code</li>
<li>Block-level history and a persistent history file (<code>.python_history</code>)</li>
<li>Better Windows/PowerShell support</li>
<li>Inline help and history convenience keys (F1/F2 mappings may vary by terminal)</li>
</ul>
<h2 id="using-the-pyrepl-in-vscode">Using the PyREPL in VSCode<a hidden class="anchor" aria-hidden="true" href="#using-the-pyrepl-in-vscode">#</a></h2>
<p>I&rsquo;ve had trouble with the terminal in VSCode in the past (see <a href="https://jbeattie5768.github.io/posts/2025-08-29-vscode-terminal-does-not-match-the-windows-path-environment/">this blog post</a>), and by default <strong>VSCode currently disables the PyREPL</strong> (<a href="https://github.com/microsoft/vscode-python/issues/25240">VSCode-Python Issue #25240</a>) - this is the case in the September 2025 (version <em>1.105.1</em>) release:</p>
<figure>
    <img loading="lazy" src="image.png"
         alt="VSCode terminal showing the default (C-based) Python REPL"/> <figcaption>
            <p>VSCode showing the default (C-based) Python REPL — no PyREPL features such as coloured output or easy exit.</p>
        </figcaption>
</figure>

<p>Not ideal.</p>
<p>This also seems to be the case for the VSCode Insiders version (I observed it in the <em>1.106.0-insider</em> version).<br>
I&rsquo;d expect this to be a temporary thing for VSCode, and they are working on changing it.</p>
<p>VSCode sets the <a href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHON_BASIC_REPL"><code>PYTHON_BASIC_REPL</code></a> environment variable within its environment, which forces the basic REPL and prevents PyREPL from loading.</p>
<p>You <strong>can</strong> change this default behaviour in your VSCode <strong>user</strong> settings (<code>settings.json</code>) by adding:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Disable Python extension shell integration so the system can load PyREPL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">&#34;python.terminal.shellIntegration.enabled&#34;</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>You&rsquo;ll need to <em>kill</em> the terminal for it to take effect:</p>
<figure>
    <img loading="lazy" src="image-1.png"
         alt="PyREPL in VSCode showing coloured prompts and easy exit"/> <figcaption>
            <p>PyREPL in VSCode: coloured output, and easy exit.</p>
        </figcaption>
</figure>

<p>A thing of beauty!</p>
<blockquote class="note"><p>If you still see the old REPL after changing the user settings, restart VSCode.</p></blockquote>
<p>There have been reports of cursor indentation issues (see <a href="https://github.com/python/cpython/issues/126131">CPython Issue #126131</a>) when using PyREPL in VSCode, but I&rsquo;ve not noticed any major issues <strong>yet</strong>.</p>
<hr>
<h2 id="references">References<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h2>
<ul>
<li><a href="https://github.com/pypy/pypy/tree/d102094b863ce49b7af030dcb0cecaac515d97c6/lib_pypy/pyrepl">https://github.com/pypy/pypy/tree/d102094b863ce49b7af030dcb0cecaac515d97c6/lib_pypy/pyrepl</a></li>
<li><a href="https://peps.python.org/pep-0762">https://peps.python.org/pep-0762</a></li>
<li><a href="https://github.com/microsoft/vscode-python/issues/25164">https://github.com/microsoft/vscode-python/issues/25164</a></li>
<li><a href="https://github.com/microsoft/vscode-python/issues/25240">https://github.com/microsoft/vscode-python/issues/25240</a></li>
<li><a href="https://github.com/microsoft/vscode-python/pull/25216">https://github.com/microsoft/vscode-python/pull/25216</a></li>
<li><a href="https://github.com/microsoft/vscode-python/pull/25281">https://github.com/microsoft/vscode-python/pull/25281</a></li>
<li><a href="https://github.com/python/cpython/issues/126172">https://github.com/python/cpython/issues/126172</a></li>
<li><a href="https://github.com/python/cpython/issues/126131">https://github.com/python/cpython/issues/126131</a></li>
<li><a href="https://code.visualstudio.com/docs/terminal/shell-integration">https://code.visualstudio.com/docs/terminal/shell-integration</a></li>
</ul>
<hr>
<h3 id="edits-to-this-post">Edits to this Post<a hidden class="anchor" aria-hidden="true" href="#edits-to-this-post">#</a></h3>
<ul>
<li>30 Oct 2025: Added banner image to post.</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://jbeattie5768.github.io/tags/python/">Python</a></li>
      <li><a href="https://jbeattie5768.github.io/tags/repl/">REPL</a></li>
      <li><a href="https://jbeattie5768.github.io/tags/vscode/">VSCode</a></li>
      <li><a href="https://jbeattie5768.github.io/tags/issue/">Issue</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://jbeattie5768.github.io/posts/2025-10-12-using-yt-dlp-with-uvx/">
    <span class="title">Next »</span>
    <br>
    <span>Using YT-DLP With UVX</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jbeattie5768.github.io/">Jonathan B</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>


</body>

</html>
